try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b747ba5d-caac-44fe-8bc0-0545cc29042f",e._sentryDebugIdIdentifier="sentry-dbid-b747ba5d-caac-44fe-8bc0-0545cc29042f")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"9cbac7ae26bc931e29ae66af5616acaae6d35ef5"};(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2805],{574:(e,t,r)=>{r.d(t,{K:()=>y});var a=r(25508),o=r(42891),n=r(5298),i=r(91323);const s={};var c=r(25733),u=r(53210),l=r(15049),d=r(11436);const y=(0,a.Mz)(o.wu,c.H,(function(){return"undefined"==typeof window?s:JSON.parse(JSON.stringify(window.user||s))}),i.Gd,u.p,n.K5,n.Vv,n.N2,d.k4,l.Ir,((e,t,r,a,o,n,i,s,c,u)=>{let l={};"game"===n&&(l={id:i.id,type:"game",path:c}),"category"===n&&(l={id:s.id,type:"category",path:c}),"home"===n&&(l={type:"home",id:0,path:c});return{geo:e,session:t,user:r,site:a,experiment:o,page:l,tag:"pg-9cbac7ae26bc931e29ae66af5616acaae6d35ef5",isPokiAnalyticsEnabled:u}}))},11436:(e,t,r)=>{r.d(t,{E6:()=>m,IA:()=>u,Lf:()=>f,Ms:()=>p,Pn:()=>g,fn:()=>i,hk:()=>c,k4:()=>l,m_:()=>y});var a=r(25508),o=r(91323),n=r(40890);function i(e){return e.router?.location?.search}const s=["cache","device","site","browserfamily","traffic-tag"],c=(0,a.Mz)(i,(e=>{const t=new URLSearchParams;for(const[r,a]of new URLSearchParams(e))s.includes(r)||t.append(r,a);const r=t.toString();return r?`?${r}`:""})),u=(0,a.Mz)(i,(e=>{const t={};return new URLSearchParams(e).forEach(((e,r)=>{r.toLowerCase().startsWith("gd")&&(t[r]=e)})),t}));function l(e){return e.router?.location?.pathname}const d=(0,a.Mz)((e=>e.router?.location?.pathname),i,((e,t)=>e+t)),y=((0,a.Mz)(((e,t)=>t||d(e)),(e=>e.client.host),c,((e,t,r)=>`${t}${e}${r}`)),(0,a.Mz)((e=>e.router.location.search.replace(/^\?/,"")),(e=>{if(!e)return;const t=e.split("&").find((e=>/^debug=/.test(e)));if(!t)return;const[,...r]=t.split("=");return r.join("=")}))),g=(0,a.Mz)(o.Gd,(e=>(0,n.AO)(e,"home","")));function p(e){const t=l(e),r=(0,o.Gd)(e),a=(0,n.M5)(r,t);return(0,n.TH)(r,a,t)}function f(e){return e.router.forceReload}function m(e){return e.router.action}},15049:(e,t,r)=>{r.d(t,{Ir:()=>n,Py:()=>s,U4:()=>o,UP:()=>d,VH:()=>l,X6:()=>y,_K:()=>g,dR:()=>u,dV:()=>i,hv:()=>p,lb:()=>c});var a=r(42891);const o=e=>e.privacy.privacyCenterViewed,n=e=>e.privacy.pokiAnalytics,i=e=>e.privacy.adsAllowed,s=e=>e.privacy.bingRemarketingEnabled,c=e=>e.privacy.isFamilyMode,u=e=>e.privacy.personalizedAds,l=e=>e.privacy.familyModeCookieConsentShown,d=e=>c(e),y=e=>(0,a.qk)(e)&&!d(e),g=e=>!d(e)&&!y(e);function p(e){const t=n(e),r=c(e),a=e.privacy.sendDeviceCapabilities;return t&&a&&!r}},18478:(e,t,r)=>{r.d(t,{A:()=>E});var a=r(82960),o=r(34524),n=r(18864),i=r(42891),s=r(75685);function c(e={},t){return t.type===s.x.type?{...e,...t.conversions}:e}var u=r(51149);const l={config:{}};function d(e=l,t){return t.type===u.m.type?{...e,config:t.payload.config}:e}var y=r(48554),g=r(5298),p=r(67278),f=r(6788),m=r(822),h=r(88800),$=r(79906),b=r(40620),v=r(91323),w=r(7696);const _={privacyCenterViewed:!1,personalizedAds:!0,pokiAnalytics:!0,adsAllowed:!0,bingRemarketingEnabled:!0,googleRemarketingEnabled:!0,sendDeviceCapabilities:!0,isFamilyMode:!1,familyModeCookieConsentShown:void 0};function k(e=_,t){return t.type===w.kN.type?{...e,privacyCenterViewed:t.payload.toggle}:t.type===w.pI.type?{...e,personalizedAds:t.payload.toggle}:t.type===w.S9.type?{...e,pokiAnalytics:t.payload.toggle}:t.type===w.LX.type?{...e,adsAllowed:t.payload.toggle}:t.type===w.QX.type?{...e,bingRemarketingEnabled:t.payload.toggle}:t.type===w.X6.type?{...e,googleRemarketingEnabled:t.payload.toggle}:t.type===w.Dz.type?{...e,sendDeviceCapabilities:t.payload.toggle}:t.type===w.Yt.type?{...e,isFamilyMode:t.payload.toggle}:t.type===w.rB.type?{...e,familyModeCookieConsentShown:t.payload.shown}:e}var A=r(15203),q=r(97454),C=r(89385),G=r(5403);const S=({basename:e,defaultLocation:t={}})=>{const r={location:t,action:null,basename:e,forceReload:!1};return(e=r,t)=>{const{type:a}=t;if("@@router/LOCATION_CHANGE"===a){const{location:r,action:a}=t.payload||{};return{...e,location:r,action:a}}if(a===G.N.type){const{payload:r}=t,{forceReload:a}=r||{};return{...e,forceReload:a}}return e}};r(52600),r(355),r(21708),r(48561);var L=r(23038);const E=e=>(0,a.HY)({router:S({defaultLocation:e.location}),ads:o.Ay.reducer,background:n.Ay,client:i.Ay.reducer,currency:c,experiment:d,game:y.Ay.reducer,pages:g.Ay.reducer,ratings:p.Ay.reducer,bugReport:f.Ay.reducer,search:m.Ay.reducer,notifications:h.Ay.reducer,modals:$.Ay.reducer,tooltips:b.Ay.reducer,site:v.Ay.reducer,privacy:k,mystery:A.Ay.reducer,eastereggs:q.Ay.reducer,account:C.Ay.reducer,[L.lh.reducerPath]:L.lh.reducer})},23038:(e,t,r)=>{r.d(t,{$w:()=>R,CV:()=>A,H:()=>$,HF:()=>G,KK:()=>k,To:()=>C,Wm:()=>w,b7:()=>q,d2:()=>I,gM:()=>_,iK:()=>m,kw:()=>S,lh:()=>p,mk:()=>h,pl:()=>O,tE:()=>E,w$:()=>L,xz:()=>y,y6:()=>v});var a=r(75816),o=r(10378),n=r(43908),i=r(46278),s=r(80382),c=r(82552),u=r(40890);const l=(0,i.G6)(),d=(0,i.T5)(),y=[31379,29724,29145,30475,30755,30668],g="mystery-tile-square.png",p=(0,a.xP)({reducerPath:"api",baseQuery:(0,o.cw)({baseUrl:l}),endpoints:e=>({getLocalisations:e.query({query:({site:e})=>`/localisations?site=${e.id}`}),getLocalisation:e.query({query:({site:e,slug:t,raw:r})=>`/localisations/${t}/${e.lang}?country=${e.lang}&site=${e.id}${r?`&raw=${r}`:""}`}),getHomepage:e.query({query:({site:e,device:t,geo:r,experiment:a,trafficSource:o})=>`/list/game/HOME?site=${e.id}&device=${t}&country=${r}&limit=${"mobile"===t?143:145}${a?`&experiment=${a}`:""}${o&&["tiktok","instagram"].includes(o)?"&tiktok=1":""}`,transformResponse:(e,t,r)=>{const{content:a}=e;return{games:a.map((e=>(0,s.rL)(r.site,"game",e))),alternates:n.TH}}}),getPopularSearches:e.query({query:({site:e,device:t,geo:r})=>`/search/clicks?site=${e.id}&country=${r}&amount=12&view=${t}`,transformResponse:(e,t,r)=>(e||[]).map((e=>(0,s.rL)(r.site,"game",e)))}),getImvitaConfigs:e.query({query:()=>"/imvita"}),getCategory:e.query({query:({slug:e,site:t,device:r="mobile",geo:a,experiment:o})=>`/category/${encodeURIComponent(e)}?site=${t.id}&device=${r}&country=${a}&limit=300${o?`&experiment=${o}`:""}`,transformResponse:(e,t,r)=>{const a=(0,s.NH)(r.device,e?.games||[]).map((e=>(0,s.rL)(r.site,"game",e))),o=(e?.related_categories||[]).map((e=>(0,s.rL)(r.site,"category",e))),n=(0,c.u)("category",e.alternate_sites);return delete e.related_categories,{...e,games:a,relatedCategories:o,alternates:n}}}),getCategories:e.query({query:({site:e,list:t,device:r,geo:a})=>`/list/category/${t}${e.id}?site=${e.id}&device=${r}&country=${a}&offset=0&limit=40`,transformResponse:(e,t,r)=>{const{content:a}=e;return a.map((e=>(0,s.rL)(r.site,"category",e)))}}),getGame:e.query({query:({site:e,slug:t,device:r,geo:a,experiment:o,pageType:n,path:i})=>{if("preview"===n||"mystery"===n){const t=i.split("/");let o,s;if("mystery"===n)try{const e=atob(t[3]);[o,s]=e.split("/")}catch(e){return{url:null}}else[o,s]=[t[3],t[4]];return o&&s?`/previewgame/${o}/${s}?country=${a}&device=${r}&site=${e.id}`:{url:null}}return`/game/${encodeURIComponent(t)}?site=${e.id}&device=${r}&country=${a}${o?`&experiment=${o}`:""}`},transformResponse:(e,t,r)=>{if(!e)throw new Error(`Game ${r?.path} not found`);if("mystery"===r.pageType){const t=r.path.split("/"),a=atob(t[3]);e.orientation=a.split("/")[2]||"both",e.mobile_file.orientation=e.orientation,e.explicit_orientation_message="both"!==e.orientation,e.image.path=g,e.rating={down_count:0,rating:1,up_count:0}}const{categories:a,related_categories:o,related_games:n}=e,i=a?a.map((e=>(0,s.rL)(r.site,"category",e))):[],u=o?o.map((e=>(0,s.rL)(r.site,"category",e))):[],l="mobile"===r.device&&n?(0,s.oI)(n):n,d=l?l.map((e=>(0,s.rL)(r.site,"game",e))):[],y=e.alternative_game?(0,s.rL)(r.site,"game",e.alternative_game):null,p=e.alternative_category?(0,s.rL)(r.site,"category",e.alternative_category):null,f=(0,c.u)("game",e.alternate_sites);delete e.related_categories,delete e.related_games;const m={path:e?.image?.path||g};return{...e,alternative_game:y,alternative_category:p,categories:i,relatedCategories:u,relatedGames:d,alternates:f,image:m}}}),getGamesByIDs:e.query({query:({site:e,ids:t,geo:r})=>`/games/?site=${e.id}&id=${t.join(",")}&country=${r}`,transformResponse:(e,t,r)=>{if(!e)return[];return e.map((e=>(0,s.rL)(r.site,"game",e)))}}),getUserStats:e.query({queryFn:async()=>{try{const e=`${d}/players/stats`,t=await fetch(e,{credentials:"include"});return{data:await t.json()}}catch(e){return console.error("Error fetching user stats:",e),{error:e}}}}),getUserGameHistory:e.query({queryFn:async({apiVersion:e,limit:t=30})=>{try{const r=e?`${d}/players/${e}/history?limit=${t}`:`${d}/players/history?limit=${t}`,a=await fetch(r,{credentials:"include"});return{data:await a.json()}}catch(e){return console.error("Error fetching user game history:",e),{error:e}}}}),getEggyGameStats:e.query({query:({geo:e})=>({url:`https://realtime.poki.com/metrics/eggycar/${e}?cached=1`,method:"GET"})}),getQuickSearchCategories:e.query({query:({site:e,device:t,geo:r})=>`/quicksearch?site=${e.id}&country=${r}&device=${t}`,transformResponse:(e,t,r)=>e.map((({title:e,slug:t})=>({title:e,slug:t,url:(0,u.AO)(r.site,"category",t)})))}),getAllGames:e.query({query:({site:e,size:t=100,page:r,country:a})=>`/allgames?site=${e.id}&size=${t}&page=${r}&country=${a}`}),getTopSeoCategories:e.query({query:({site:e})=>`/top-seo-categories?site=${e.id}`}),getJsonBlobByKey:e.query({query:({key:e,lang:t})=>`/json-blob/${e}?lang=${t}`}),getProfile:e.query({queryFn:async({extraOptions:e=""})=>{try{const t="/avatar"===e?`${d}/players${e}`:`${d}/players/profile${e}`,r=await fetch(t,{credentials:"include"});if(!r.ok)return{data:null};return{data:await r.json()}}catch(e){return console.error("Error fetching user profile:",e),{error:e}}}}),updateProfile:e.mutation({queryFn:async e=>{try{const t=`${d}/players/profile/username`,r=await fetch(t,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await r.json();return r.ok?{data:a}:{error:a}}catch(e){return console.error("Error updating user profile:",e),{error:e}}}}),updateAvatar:e.mutation({queryFn:async e=>{try{const t=`${d}/players/avatar`,r=await fetch(t,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await r.json();return r.ok?{data:a}:{error:a}}catch(e){return console.error("Error updating user profile:",e),{error:e}}}})})}),{useGetLocalisationsQuery:f,useGetLocalisationQuery:m,useGetHomepageQuery:h,useGetPopularSearchesQuery:$,useGetImvitaConfigsQuery:b,useGetCategoryQuery:v,useGetCategoriesQuery:w,useGetGameQuery:_,useGetGamesByIDsQuery:k,useGetUserStatsQuery:A,useGetUserGameHistoryQuery:q,useGetEggyGameStatsQuery:C,useGetQuickSearchCategoriesQuery:G,useGetAllGamesQuery:S,useGetTopSeoCategoriesQuery:L,useGetJsonBlobByKeyQuery:E,useGetProfileQuery:R,useUpdateProfileMutation:I,useUpdateAvatarMutation:O}=p},25733:(e,t,r)=>{r.d(t,{H:()=>o});const a={};function o(){return"undefined"==typeof window?a:JSON.parse(JSON.stringify(window.session||a))}},28685:(e,t,r)=>{r.d(t,{L:()=>a,W:()=>o});const a=e=>e.notifications.stack;function o(e,t){const{stack:r}=e.notifications;return r.find((e=>e.id===t))||null}},43908:(e,t,r)=>{r.d(t,{TH:()=>i,l0:()=>s,sv:()=>c});var a=r(40890);const o={},n={},i=[],s=e=>{Object.entries(e).forEach((([e,t])=>{"xx"!==t.iso_lang&&(o[e]=t,i.push({href:(0,a.kC)(t,"home",""),hrefLang:t.iso_lang,lang:t.lang}),n[t.iso_lang]=t)})),i.push({href:(0,a.kC)(o[3],"home",""),hrefLang:"x-default"})},c=()=>n},53210:(e,t,r)=>{function a(e){return e.experiment?.config?.playground?.sdk_version}function o(e){return e.experiment?.config?.id}r.d(t,{c:()=>a,p:()=>o})},65995:(e,t,r)=>{r.d(t,{g:()=>i});var a=r(94900);const o=atob("bGVhZGVyYm9hcmQ=");let n;function i(e,t,r,i,s){if(!Number.isInteger(t))return;if(!n)if(s)n=s;else try{n=localStorage.getItem(`poki_${o}_user_id`)||void 0,n||(n=crypto.randomUUID(),localStorage.setItem(`poki_${o}_user_id`,n))}catch{return}const c={meta:r,p4d_game_id:i,[o]:e,user_id:n,score:t,version:2},u=Object.keys(c),l=(0,a.z)(u.length,t),d={};for(let e=0;e<l.length;e++){const t=u[l[e]];d[t]=c[t]}let y=JSON.stringify(d);y=y.trim(),y+=" ".repeat(Math.abs(t%7)),fetch(`https://${o}.poki.com/v0/${o}s/submit`,{method:"POST",body:y}).catch((()=>{}))}},88421:(e,t,r)=>{function a(e){return e.search.expanded}function o(e){return e.search.pending}function n(e){return e.search.error}function i(e){return e.search.query}function s(e){return e.search.searchSessionId}function c(e){return e.search.results}r.d(t,{GO:()=>a,Ie:()=>s,SO:()=>o,Z1:()=>i,fj:()=>c,j5:()=>n})},98417:(e,t,r)=>{r.d(t,{d:()=>s,H:()=>c});var a=r(25508),o=r(40827);var n=r(42891),i=r(34524);function s(e){const t=(0,n.H6)(e),r=o.A[t?"mobile":"desktop"];return Object.values(r).map((t=>t(e)))}const c=(0,a.Mz)(s,(function(e){return e.currency}),i.I2,((e,t,r)=>({adUnits:e,config:{debug:!1,useBidCache:!0,bidCacheFilterFunction:e=>!("video"===e.mediaType&&"rubicon"===e.bidder),currency:{adServerCurrency:"EUR",rates:t,defaultRates:t},ortb2:r}})))},98708:(e,t,r)=>{r.d(t,{K:()=>s});var a=r(25508),o=r(23038),n=r(91323);const i=(0,a.Mz)(n.Gd,(e=>e),((e,t)=>o.lh.endpoints.getLocalisations.select({site:e})(t))),s=(0,a.Mz)(i,(e=>e?.data||{}))}}]);
//# sourceMappingURL=client~main-a4fc0d9e~311fa3b5ef0ff610db5a.js.map