try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="cccbdc7f-7687-47ab-9889-b933cdaae2dd",e._sentryDebugIdIdentifier="sentry-dbid-cccbdc7f-7687-47ab-9889-b933cdaae2dd")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"9cbac7ae26bc931e29ae66af5616acaae6d35ef5"};(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5454],{5298:(e,t,a)=>{a.d(t,{Ay:()=>O,Ee:()=>G,FR:()=>D,K5:()=>C,KO:()=>E,N2:()=>L,Qk:()=>_,Sk:()=>N,Ue:()=>S,Vv:()=>P,Xk:()=>A,_n:()=>w,mX:()=>b,nK:()=>B,yT:()=>x,yc:()=>v});var o=a(20038),n=a(25508),s=a(91323),i=a(23038),l=a(42891),r=a(98708),d=a(15049),c=a(53210),u=a(11436),p=a(43908),g=a(36774),m=a(40890),f=a(35190);const y={pokifordevs_team_id:void 0,developer:void 0},h={},v=(0,o.VP)("pages/getPageDone"),b=(0,o.VP)("pages/not_found"),k=(0,o.Z0)({name:"pages",initialState:{currentPagePath:null,previousPagePath:null,isLanding:!0,pages:{}},reducers:{setIsLanding:(e,t)=>{e.isLanding=t.payload.isLanding}},extraReducers:e=>{e.addCase(v,((e,t)=>{const{path:a,pokifordevs_team_id:o,developer:n}=t.payload,s=e.pages&&e.pages[a]||y;e.pages={...e.pages,[a]:{...s,pokifordevs_team_id:o,developer:n}},e.previousPagePath=e.currentPagePath,e.currentPagePath=a}))}}),{setIsLanding:w}=k.actions;function _(e){return e.router.location.pathname}function A(e){return e.pages?.isLanding}const C=(0,n.Mz)(s.Gd,_,((e,t)=>(0,m.M5)(e,t)));function S(e){const{pages:t}=e,a=_(e),o=function(e){return e.pages?.previousPagePath||null}(e),n=t?.pages?.[a],s=o?t?.pages?.[o]:null;return n?.pokifordevs_team_id&&s?.pokifordevs_team_id?n.pokifordevs_team_id===s.pokifordevs_team_id:!(!n?.developer||!s?.developer)&&n.developer===s.developer}const M=e=>i.lh.endpoints.getGame.select({slug:(0,u.Ms)(e),site:(0,s.Gd)(e),device:(0,l.xp)(e),geo:(0,l.wu)(e),experiment:(0,c.p)(e),pageType:C(e),path:(0,u.k4)(e)})(e);function P(e){const t=C(e);if("game"!==t&&"preview"!==t&&"mystery"!==t)return h;const a=M(e);return"fulfilled"===a.status?a.data:h}const L=e=>{if(!("category"===C(e)))return h;const t=(e=>i.lh.endpoints.getCategory.select({slug:(0,u.Ms)(e),site:(0,s.Gd)(e),device:(0,l.xp)(e),geo:(0,l.wu)(e),experiment:(0,c.p)(e)})(e))(e);return"fulfilled"===t.status?t.data:h};function T(e){if(!("home"===C(e)))return h;const t=(e=>i.lh.endpoints.getHomepage.select({site:(0,s.Gd)(e),device:(0,l.xp)(e),geo:(0,l.wu)(e),experiment:(0,c.p)(e),trafficSource:(0,l.zO)(e)})(e))(e);return"fulfilled"===t.status?t.data:h}const B=(0,n.Mz)(C,P,L,T,((e,t,a,o)=>{let n=[];return"game"===e&&"alternates"in t&&Array.isArray(t.alternates)&&(n=t.alternates),"category"===e&&"alternates"in a&&Array.isArray(a.alternates)&&(n=a.alternates),"home"===e&&"alternates"in o&&Array.isArray(o.alternates)&&(n=o.alternates),n.length>0?n.filter((({hrefLang:e})=>"x-default"!==e)).map((({href:e,hrefLang:t,lang:a,title:o})=>({href:e,hrefLang:t,title:o,lang:a,languageName:(0,p.sv)()[t]?.languageName}))).sort(((e,t)=>{const a=e.languageName||"",o=t.languageName||"";return a.localeCompare(o,"en")})):[]})),D=(0,n.Mz)(s.Gd,(e=>(0,m.AO)(e,"privacy",""))),E=((0,n.Mz)(s.Gd,l.wu,((e,t)=>(0,m.AO)(e,"content",(g._k.includes(t)?"":"global-")+"cookie-statement"))),(0,n.Mz)(s.Gd,(e=>(0,m.AO)(e,"content","contact")))),G=(0,n.Mz)((()=>null),(()=>[{label:"TikTok",ariaLabel:"Poki TikTok",url:"https://www.tiktok.com/@poki_games",iconClass:"tiktok"},{label:"Instagram",ariaLabel:"Poki Instagram",url:"https://www.instagram.com/poki__games",iconClass:"instagram"},{label:"YouTube",ariaLabel:"Poki YouTube",url:"https://www.youtube.com/@Poki",iconClass:"youtube"}])),x=(0,n.Mz)(s.Gd,r.K,E,d.lb,l.wu,l.oJ,((e,t,a,o,n,s)=>({getToKnowUs:[{label:t.about,url:"https://about.poki.com",external:!0},{label:t.developers,url:"https://developers.poki.com",external:!0},o?null:{label:t.poki_kids,url:"https://kids.poki.com",external:!0},{label:t.jobs,url:"https://jobs.poki.com",external:!0}].filter(Boolean),privacyAndTerms:[{label:t.privacy_center,url:(0,m.AO)(e,"privacy","")},"CA"===n?{label:`${t.cookie_settings}`,url:(0,m.AO)(e,"privacy","")}:null,g._k.includes(n)&&!o?{type:"button",label:t.cookie,action:f.es.OPEN_CMP,ariaLabel:t.cookie}:null,s?{type:"button",label:"Do Not Sell My Data",action:f.es.OPEN_CCPA,ariaLabel:"Do Not Sell My Data"}:null,"GB"===n?{type:"button",label:t.cookie,action:f.es.OPEN_GB_CONSENT,ariaLabel:t.cookie}:null].filter(Boolean),helpAndSupport:[{label:t.faq,url:(0,m.AO)(e,"content","faq")},{label:t.nav_contact,url:a}].filter(Boolean)})));function N(e){const t=i.lh.endpoints.getImvitaConfigs.select({})(e);return"fulfilled"===t.status?t.data:h}const O=k},15203:(e,t,a)=>{a.d(t,{Ay:()=>g,Bi:()=>u,ON:()=>f,QZ:()=>c,ht:()=>p});var o=a(20038),n=a(42891),s=a(23038),i=a(5298),l=a(11436),r=a(16536);const d=(0,o.Z0)({name:"mystery",initialState:{game:null,games:[],triggered:!1,canBeShown:!1},reducers:{setMysteryGames:(e,t)=>{e.games=t.payload.games,e.triggered=!1},setCanBeShown:(e,t)=>{e.canBeShown=t.payload.canBeShown,e.game=t.payload.game},clickMysteryGame:e=>{e.game=null,e.games=[],e.triggered=!0,e.canBeShown=!1}}}),c=e=>e.mystery.game,u=e=>e.mystery.triggered,p=e=>e.mystery.canBeShown,g=d,{setMysteryGames:m,clickMysteryGame:f,setCanBeShown:y}=d.actions;let h=!1;"undefined"!=typeof window&&((0,r.Zv)({actionCreator:n.Xy,effect:async(e,{getState:t,dispatch:a,unsubscribe:o,condition:s})=>{const i=t(),r=(0,n.wu)(i),d=(0,n.xp)(i),c=(0,l.fn)(i),u=function(e,t){return"true"===new URLSearchParams(t).get("force_mystery")||!["GB","NL","CA"].includes(e)&&((!navigator?.connection?.effectiveType||"4g"===navigator?.connection?.effectiveType)&&(!(navigator?.hardwareConcurrency<8)&&!!document.createElement("canvas").getContext("webgl2",{failIfMajorPerformanceCaveat:!0})))}(r,c);if(h=u,o(),h){const e=async()=>{try{const e=await fetch(`https://mystery-game-tile.poki.io/v0/mystery-game?device=${d}&geo=${r}`),t=(await e.json()).filter((e=>{const{device_category:t}=e;return t===d||"any"===t}));if(0===t.length)return void a(m({games:[]}));const o=t.map((e=>{const t=btoa(`${e.path}/${e.orientation||"both"}`);return{...e,path:t}}));a(m({games:o}))}catch(e){}};"function"==typeof requestIdleCallback?requestIdleCallback(e,{timeout:1e4}):e();const t=setInterval(e,3e5);await s(f.match),clearInterval(t)}}}),(0,r.Zv)({matcher:(0,o.i0)(s.lh.endpoints.getGame.matchFulfilled,s.lh.endpoints.getCategory.matchFulfilled,s.lh.endpoints.getHomepage.matchFulfilled),effect:(e,{getState:t,dispatch:a,unsubscribe:o})=>{const n=t();if(!h)return void o();const s=(e=>e.mystery.games)(n);if(s.length>0){const e=(0,i.K5)(n),t=(0,i.Vv)(n),o=(0,i.N2)(n),l=(0,i.Qk)(n);if("category"===e&&0===o.games.length)return void a(y({canBeShown:!1,game:null}));const r=s.filter((a=>{const{categories:n=[]}=a;return 0===n.length||("game"===e?t.categories.some((({id:e})=>n.includes(e))):"category"===e&&n.includes(o.id))}));if(0===r.length)return void a(y({canBeShown:!1,game:null}));let d=0;for(let e=0;e<l.length;e++)d+=l.charCodeAt(e);a(y({canBeShown:!0,game:r[d%r.length]}))}}}))},40620:(e,t,a)=>{a.d(t,{Ay:()=>d,DW:()=>n,G0:()=>r,cf:()=>s,oK:()=>l});var o=a(20038);const n=(e,t)=>e.tooltips.stack.find((e=>e.consumerId===t)),s=(e,t,a)=>{const o=n(e,t);return o?.id===a},i=(0,o.Z0)({name:"tooltips",initialState:{stack:[],muted:{}},reducers:{setTooltip:(e,t)=>{const{tooltip:a}=t.payload;a.id=a.id||Date.now(),((e,t)=>!!e.tooltips.muted[t])({tooltips:e},a.id)||e.stack.push(a)},removeTooltip:(e,t)=>{const{id:a}=t.payload;e.stack=e.stack.filter((t=>t.id!==a||(t.muteAfterClose&&((e,t)=>{e.stack.find((e=>e.id===t))&&(e.muted[t]=!0)})(e,a),!1)))}}}),{setTooltip:l,removeTooltip:r}=i.actions,d=i},79906:(e,t,a)=>{a.d(t,{Ay:()=>g,BE:()=>p,QC:()=>c,dp:()=>i,g8:()=>u,mi:()=>d,q3:()=>l});var o=a(20038);const n=31536e7,s=(e,t)=>{const a=e.stack.find((e=>e.id===t));if(!a)return;const{muteExpirationTime:o,maxMuteCount:s}=a,i=e.muted[t]?.count||0,l=i+1;let r=n;if(void 0!==s&&l>=s)r=n;else if(void 0!==o)if(Array.isArray(o)){const e=Math.min(i,o.length-1);void 0!==o[e]&&(r=o[e])}else r=o;e.muted[t]={expiration:Date.now()+r,count:l}},i=e=>e.modals.stack,l=(e,t)=>t in e.modals.muted,r=(0,o.Z0)({name:"modals",initialState:{stack:[],muted:{}},reducers:{setModal:(e,t)=>{const{modal:a}=t.payload;a.id=a.id||Date.now(),((e,t)=>{const a=e.modals.muted[t]?.expiration;return!!a&&a>Date.now()})({modals:e},a.id)||e.stack.push(a)},removeModal:(e,t)=>{e.stack=e.stack.filter((e=>e.id!==t.payload.id))},muteModal:(e,t)=>{const{id:a}=t.payload;s(e,a)},setCloseModal:(e,t)=>{const{id:a}=t.payload;e.stack=e.stack.map((t=>t.id===a?(t.muteAfterClose&&s(e,a),{...t,isClosed:!0}):t))}}}),{setModal:d,removeModal:c,setCloseModal:u,muteModal:p}=r.actions,g=r},91323:(e,t,a)=>{a.d(t,{Ay:()=>h,DF:()=>f,Gd:()=>g,LJ:()=>i,n:()=>m});var o=a(20038),n=a(25508),s=a(40890);const i={WEB:"web",APP:"app",CAR:"car"},l={mode:i.WEB},r=(0,o.Z0)({name:"site",initialState:l,reducers:{setSite:(e,t)=>{e.site=t.payload.site},setSitesForClient:(e,t)=>{e.sites=t.payload.sites},setLocalisations:(e,t)=>{e.localisations=t.payload.localisations},setSiteMode:(e,t)=>{e.mode=t.payload.mode}}}),{setSite:d,setSitesForClient:c,setLocalisations:u,setSiteMode:p}=r.actions,g=e=>e.site.site,m=e=>e.site.sites,f=e=>e.site.mode,y=((0,n.Mz)(g,(({paths:e})=>({...s.KJ,...e}))),["ar","he"]),h=((0,n.Mz)(g,(({iso_lang:e})=>y.includes(e))),r)}}]);
//# sourceMappingURL=client~main-5a4af39f~0bcca295367d30f6ada7.js.map